import ScriptTools, os
def alterPotcar(self,element,tag):
	curdir = os.getcwd()
	os.chdir(self._PotcarDir+'/'+element)		
	# don't know why these are indented; error without it
	file=open("POTCAR",'r')
	file2=file.readlines()
	file.close()
	file2string=""
	for string in file2:
		file2string=file2string+string
	os.chdir(curdir)
	import re
	try:
		fileread = open('POTCAR','r')
		text = fileread.read()
		fileread.close()
		filewrite = open('POTCAR','w')
		regex = re.compile(str(tag))
		text = regex.sub(str(file2string),text)
		filewrite.write(text)
		filewrite.close()
	except:
		print "There was an error in processing file " + filepath
		print "This is likely due to " + frommatch + " tag not being present in the file."
		print tomatch



curdir = "/bluehome/bch/vasprun/graphene.structures/half_graphane/isolated/adatom_Ac/distance_0/ISIF_4/IBRION_2/ISPIN_2/relaxation"
folder = "/bluehome/bch/hessgroup/vaspfiles/src/potpaw_PBE/Ac"
os.chdir(folder)
file=open("POTCAR",'r')
file2=file.readlines()
file.close()
file2string=""
for string in file2:
	file2string=file2string+string
os.chdir(curdir)
import re
try:
	fileread = open('POTCAR','r')
	text = fileread.read()
	fileread.close()
	filewrite = open('POTCAR','w')
	regex = re.compile(str(tag))
	text = regex.sub(str(file2string),text)
	filewrite.write(text)
	filewrite.close()
except:
	print "There was an error in processing file " + filepath
	print "This is likely due to " + frommatch + " tag not being present in the file."
	print tomatch

os.chdir(curdir)